# Essential USB Support
CONFIG_USB=y
CONFIG_USB_SUPPORT=y
CONFIG_USB_COMMON=y
CONFIG_USB_ARCH_HAS_HCD=y
CONFIG_USB_DEFAULT_PERSIST=y

# RPi4 specific USB controllers
CONFIG_USB_DWC2=y
CONFIG_USB_DWC2_PLATFORM=y
CONFIG_USB_XHCI_HCD=y
CONFIG_USB_XHCI_PCI=y
CONFIG_USB_XHCI_PLATFORM=y

# Required for USB 2.0 ports
CONFIG_USB_EHCI_HCD=y
CONFIG_USB_EHCI_TT_NEWSCHED=y
CONFIG_USB_EHCI_ROOT_HUB_TT=y
CONFIG_USB_EHCI_PCI=y

# Basic USB device support
CONFIG_USB_HID=y
CONFIG_USB_HIDDEV=y
CONFIG_HID=y
CONFIG_HID_GENERIC=y
CONFIG_USB_HID_QUIRK_MULTI_INPUT=y
CONFIG_USB_QUIRKS=y

# Input device support
CONFIG_INPUT=y
CONFIG_INPUT_EVDEV=y
CONFIG_INPUT_KEYBOARD=y
CONFIG_INPUT_MOUSE=y

# Ensure early USB initialization
CONFIG_EARLY_PRINTK=y
CONFIG_USB_EARLY_INIT=y

# Additional input drivers
CONFIG_KEYBOARD_ATKBD=y
CONFIG_KEYBOARD_GPIO=y
CONFIG_INPUT_MISC=y

# Additional USB HID drivers
CONFIG_HID_A4TECH=y
CONFIG_HID_APPLE=y
CONFIG_HID_CHERRY=y
CONFIG_HID_LOGITECH=y
CONFIG_HID_MICROSOFT=y
CONFIG_HID_MONTEREY=y

# Event interface
CONFIG_INPUT_EVDEV=y

# USB Quirks for problematic devices
CONFIG_USB_QUIRKS=y